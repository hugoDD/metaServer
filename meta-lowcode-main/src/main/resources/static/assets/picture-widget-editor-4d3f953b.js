import{_ as e}from"./index-ea085229.js";import{F as l}from"./field-state-variables-3bb6d4cb.js";import{f as a}from"./field-editor-mixin-140fe671.js";import{l as i,o,i as t,w as r,z as d,f as s,c as p,a0 as u,ah as m,a as n,A as f,F as b,bh as g,bf as j,g as c}from"./@vue-1ad4818c.js";import"./element-plus-bab58d46.js";import"./lodash-es-b8e8104a.js";import"./@vueuse-477b4dbb.js";import"./@element-plus-2a6d398c.js";import"./@babel-6bd44fd1.js";import"./@popperjs-b78c3215.js";import"./@ctrl-4982d949.js";import"./dayjs-7fb79ad3.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-3148dbc9.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-0ef99041.js";import"./vue3-manner-report-313033e6.js";import"./axios-85bcd05e.js";import"./crypto-js-43a3a23e.js";import"./cron-parser-1391a961.js";import"./luxon-b01799b6.js";import"./vue-router-414ebc36.js";import"./nprogress-c04e6182.js";import"./pinia-3f60a8e1.js";import"./sortablejs-2f5483e3.js";import"./qrcodejs2-fix-bab07f30.js";import"./moment-bafe441d.js";import"./pinyin-pro-c81f5d39.js";import"./vue-i18n-0843b5c5.js";import"./@intlify-2528d766.js";import"./source-map-b06bd4b9.js";import"./vue-c723f8b1.js";import"./pinia-plugin-persistedstate-d2bd58cf.js";import"./resize-observer-polyfill-ad543aa3.js";import"./vue-smart-widget-8b3f5b0a.js";import"./echarts-b5d24e9a.js";import"./zrender-a15b073b.js";import"./tslib-a4e99503.js";import"./echarts-liquidfill-f5c863f1.js";import"./@antv-43d380be.js";import"./ant-design-vue-2db0c9af.js";import"./@ant-design-60f2ef8e.js";import"./vue-types-6bcea8eb.js";import"./dom-align-78cb5391.js";import"./vue-draggable-next-a413f884.js";import"./vue-resize-observer-90aea344.js";const V={name:"PictureWidgetEditor",props:{entity:String,fieldName:String,showingInDialog:Boolean,fieldState:{type:Number,default:l.NEW}},mixins:[a],data:()=>({fieldProps:{name:"",label:"",type:"Picture",defaultMemberOfListFlag:!1,nullable:!1,creatable:!0,updatable:!0,fieldViewModel:{maxFileCount:1,fileMaxSize:5,uploadFileTypes:[],uploadHint:"",validators:[]}},rules:{name:[{required:!0,message:"请输入字段名称",trigger:"blur"},{pattern:/^[a-z]+[A-Za-z\d]*$/,message:"请以小写英文字母开头，中间可输入字母或数字，禁止中文",trigger:"blur"},{min:2,max:30,message:"文字长度应在2-30之间",trigger:"blur"}],label:[{required:!0,message:"请输入显示名称",trigger:"blur"},{pattern:/^[A-Za-z\d\u4e00-\u9fa5]+[_-]*/,message:"请以中文、英文字母、数字开头，中间可输入下划线或横杠",trigger:"blur"},{min:2,max:30,message:"文字长度应在2-30之间",trigger:"blur"}],"fieldViewModel.uploadFileTypes":[{required:!0,message:"请选择上传图片类型",trigger:"blur",type:"array"}]},validators:[],fileTypes:[{value:"jpeg",label:"JPG"},{value:"png",label:"PNG"},{value:"gif",label:"GIF"}]}),mounted(){},methods:{saveField(){this.doSave("Picture")},cancelSave(){this.$emit("cancelSave")}}},v=(e=>(g("data-v-8140115a"),e=e(),j(),e))((()=>c("hr",{style:{border:"0","margin-bottom":"15px"}},null,-1)));const y=e(V,[["render",function(e,l,a,g,j,c){const V=i("el-header"),y=i("el-input"),_=i("el-form-item"),h=i("el-button"),P=i("el-input-number"),w=i("el-option"),x=i("el-select"),F=i("el-radio"),M=i("el-radio-group"),S=i("el-form"),z=i("el-main"),C=i("el-container");return o(),t(C,{class:"field-props-container"},{default:r((()=>[a.showingInDialog?s("",!0):(o(),t(V,{key:0,class:"field-props-header"},{default:r((()=>[d("[图片]字段属性设置")])),_:1})),p(z,{class:"field-props-pane"},{default:r((()=>[p(S,{ref:"editorForm",model:j.fieldProps,rules:j.rules,"label-position":"left","label-width":"220px",onSubmit:l[9]||(l[9]=u((()=>{}),["prevent"]))},{default:r((()=>[p(_,{label:"显示名称",prop:"label"},{default:r((()=>[p(y,{modelValue:j.fieldProps.label,"onUpdate:modelValue":l[0]||(l[0]=e=>j.fieldProps.label=e),onChange:e.handleFieldLabelChange},null,8,["modelValue","onChange"])])),_:1}),p(_,{label:"字段名称",prop:"name"},{default:r((()=>[p(y,{modelValue:j.fieldProps.name,"onUpdate:modelValue":l[1]||(l[1]=e=>j.fieldProps.name=e),disabled:1!==a.fieldState},m({_:2},[1===a.fieldState?{name:"append",fn:r((()=>[p(h,{onClick:e.generateFieldName},{default:r((()=>[d("刷新生成")])),_:1},8,["onClick"])])),key:"0"}:void 0]),1032,["modelValue","disabled"])])),_:1}),p(_,{label:"上传图片数量上限(张数)"},{default:r((()=>[p(P,{modelValue:j.fieldProps.fieldViewModel.maxFileCount,"onUpdate:modelValue":l[2]||(l[2]=e=>j.fieldProps.fieldViewModel.maxFileCount=e),min:1,max:20,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),p(_,{label:"单张图片大小上限(单位MB)"},{default:r((()=>[p(P,{modelValue:j.fieldProps.fieldViewModel.fileMaxSize,"onUpdate:modelValue":l[3]||(l[3]=e=>j.fieldProps.fieldViewModel.fileMaxSize=e),min:1,max:100,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),p(_,{label:"上传图片类型(多选)",prop:"fieldViewModel.uploadFileTypes"},{default:r((()=>[p(x,{multiple:"",filterable:"","popper-append-to-body":!1,modelValue:j.fieldProps.fieldViewModel.uploadFileTypes,"onUpdate:modelValue":l[4]||(l[4]=e=>j.fieldProps.fieldViewModel.uploadFileTypes=e),style:{width:"100%"}},{default:r((()=>[(o(!0),n(b,null,f(j.fileTypes,((e,l)=>(o(),t(w,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(_,{label:"上传说明提示"},{default:r((()=>[p(y,{modelValue:j.fieldProps.fieldViewModel.uploadHint,"onUpdate:modelValue":l[5]||(l[5]=e=>j.fieldProps.fieldViewModel.uploadHint=e)},null,8,["modelValue"])])),_:1}),p(_,{label:"是否允许空值"},{default:r((()=>[p(M,{modelValue:j.fieldProps.nullable,"onUpdate:modelValue":l[6]||(l[6]=e=>j.fieldProps.nullable=e),style:{float:"right"}},{default:r((()=>[p(F,{label:!0},{default:r((()=>[d("是")])),_:1}),p(F,{label:!1},{default:r((()=>[d("否")])),_:1})])),_:1},8,["modelValue"])])),_:1}),p(_,{label:"新建记录时允许修改字段"},{default:r((()=>[p(M,{modelValue:j.fieldProps.creatable,"onUpdate:modelValue":l[7]||(l[7]=e=>j.fieldProps.creatable=e),style:{float:"right"}},{default:r((()=>[p(F,{label:!0},{default:r((()=>[d("是")])),_:1}),p(F,{label:!1},{default:r((()=>[d("否")])),_:1})])),_:1},8,["modelValue"])])),_:1}),p(_,{label:"更新记录时允许修改字段"},{default:r((()=>[p(M,{modelValue:j.fieldProps.updatable,"onUpdate:modelValue":l[8]||(l[8]=e=>j.fieldProps.updatable=e),style:{float:"right"}},{default:r((()=>[p(F,{label:!0},{default:r((()=>[d("是")])),_:1}),p(F,{label:!1},{default:r((()=>[d("否")])),_:1})])),_:1},8,["modelValue"])])),_:1}),v,p(_,null,{default:r((()=>[p(h,{type:"primary",style:{width:"120px"},onClick:c.saveField},{default:r((()=>[d("保存字段")])),_:1},8,["onClick"]),a.showingInDialog?(o(),t(h,{key:0,onClick:c.cancelSave},{default:r((()=>[d("取消")])),_:1},8,["onClick"])):s("",!0)])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}],["__scopeId","data-v-8140115a"]]);export{y as default};
