import{$ as e}from"./index-ea085229.js";import t from"./edit-dfd0882d.js";import i from"./ListDetail-8a5e24a7.js";import{d as s}from"./team-3e46d8bc.js";import{b as a,a as r}from"./element-plus-bab58d46.js";import{R as l,r as o,l as m,o as n,a as p,c as d,w as u,E as j,g as c,F as f}from"./@vue-1ad4818c.js";import"./vue3-manner-report-313033e6.js";import"./axios-85bcd05e.js";import"./crypto-js-43a3a23e.js";import"./@babel-6bd44fd1.js";import"./cron-parser-1391a961.js";import"./luxon-b01799b6.js";import"./vue-router-414ebc36.js";import"./nprogress-c04e6182.js";import"./pinia-3f60a8e1.js";import"./sortablejs-2f5483e3.js";import"./qrcodejs2-fix-bab07f30.js";import"./@element-plus-2a6d398c.js";import"./moment-bafe441d.js";import"./pinyin-pro-c81f5d39.js";import"./vue-i18n-0843b5c5.js";import"./@intlify-2528d766.js";import"./source-map-b06bd4b9.js";import"./vue-c723f8b1.js";import"./@vueuse-477b4dbb.js";import"./pinia-plugin-persistedstate-d2bd58cf.js";import"./resize-observer-polyfill-ad543aa3.js";import"./vue-smart-widget-8b3f5b0a.js";import"./echarts-b5d24e9a.js";import"./zrender-a15b073b.js";import"./tslib-a4e99503.js";import"./echarts-liquidfill-f5c863f1.js";import"./@antv-43d380be.js";import"./ant-design-vue-2db0c9af.js";import"./lodash-es-b8e8104a.js";import"./@ant-design-60f2ef8e.js";import"./@ctrl-4982d949.js";import"./dayjs-7fb79ad3.js";import"./vue-types-6bcea8eb.js";import"./dom-align-78cb5391.js";import"./vue-draggable-next-a413f884.js";import"./vue-resize-observer-90aea344.js";import"./@popperjs-b78c3215.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-3148dbc9.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-0ef99041.js";import"./AddMembers-0d41fc5e.js";import"./TabMemberList-d965ffd7.js";const b=c("span",{class:"ml-5"},"添加",-1),v={class:"mr-3"},g=c("span",null,"编辑",-1),y={class:"mr-3"},h=c("span",null,"删除",-1),k={__name:"team-list-view",setup(k){const N=l("$TOOL");let _=o([{fieldName:"createdBy",type:"DESC"}]),w=o([]),I=o([{prop:"teamName",label:"名称",highlight:!0},{prop:"createdOn",label:"创建时间",formatter:t=>e(t.createdOn)},{prop:"createdBy.name",label:"创建用户",formatter:e=>{var t;return null==(t=e.createdBy)?void 0:t.name}}]),C=o();const x=()=>{let e={entityName:"Team"};C.value.openDialog(e)};let L=o();const z=()=>{L.value.getTableList()};let D=o();const R=e=>{D.value.openDetailDialog(e.teamId,e.teamName)};return(e,l)=>{const o=m("ElIconPlus"),k=m("el-icon"),T=m("el-button"),E=m("ElIconEdit"),B=m("ElIconDelete"),O=m("el-table-column"),F=m("mlSingleList");return n(),p(f,null,[d(F,{ref_key:"mlSingleListRef",ref:L,title:"团队",mainEntity:"Team",fieldsList:"teamName,createdBy,createdOn,teamId,disabled",sortFields:j(_),fieldName:"teamName",tableColumn:j(I),filterItems:j(w),onHighlightClick:R},{addbutton:u((()=>[d(T,{type:"primary",onClick:x,disabled:!j(N).checkRole("r24-3")},{default:u((()=>[d(k,{size:"14"},{default:u((()=>[d(o)])),_:1}),b])),_:1},8,["disabled"])])),activeRow:u((()=>[d(O,{label:"操作",align:"center",width:"140",fixed:"right"},{default:u((e=>[d(T,{size:"small",type:"primary",link:"",onClick:t=>(e=>{let t={};t.detailId=e.teamId,C.value.openDialog(t)})(e.row),disabled:!j(N).checkRole("r24-3")},{default:u((()=>[c("span",v,[d(k,null,{default:u((()=>[d(E)])),_:1})]),g])),_:2},1032,["onClick","disabled"]),d(T,{size:"small",link:"",type:"primary",onClick:t=>{return i=e.row,void a.confirm("是否确认删除?","提示：",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((async()=>{let e=await s(i.teamId);L.value.loading=!0,e&&(r.success("删除成功"),L.value.getTableList()),L.value.loading=!1})).catch((()=>{}));var i},disabled:!j(N).checkRole("r24-4")},{default:u((()=>[c("span",y,[d(k,null,{default:u((()=>[d(B)])),_:1})]),h])),_:2},1032,["onClick","disabled"])])),_:1})])),_:1},8,["sortFields","tableColumn","filterItems"]),d(t,{ref_key:"editRefs",ref:C,onOnConfirm:z,isTeam:"",nameFieldName:"teamName"},null,512),d(i,{ref_key:"mlListDetailsRefs",ref:D,idFieldName:"teamId",nameFieldName:"teamName",onOnRefresh:z},null,512)],64)}}};export{k as default};
