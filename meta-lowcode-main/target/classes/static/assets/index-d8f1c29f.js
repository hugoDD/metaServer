import{_ as e}from"./index-ea085229.js";import{r as l,p as a,l as s,o as u,a as t,c as o,E as d,G as n,z as m,g as v,t as i,f as p,w as c,bh as r,bf as V}from"./@vue-1ad4818c.js";const f={key:0},b={class:"save-dialog",style:{padding:"0 20px"}},g=(e=>(r("data-v-edc1eb40"),e=e(),V(),e))((()=>v("div",{class:"info-text mt-5"},"可以共享给不同的角色或职能部门，便于统一管理",-1))),h={class:"mt-10"},x=e({__name:"index",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:r}){const V=e;let x=l(!1),_=l(""),y=l([]);a((()=>{if("SELF"==V.modelValue)x.value=!1;else if("ALL"==V.modelValue)x.value=!0;else{let e=JSON.parse(V.modelValue);y.value=[...e],x.value=!0}}));const L=()=>{x.value?y.value.length>0?_.value=JSON.stringify(y.value):_.value="ALL":_.value="SELF",r("update:modelValue",_.value)};let k=l(!1),S=l([]);const U=()=>{S.value=[...y.value],k.value=!0},w=()=>{y.value=[...S.value],k.value=!1,L()};return(e,l)=>{const a=s("el-checkbox"),r=s("mlSelectUser"),V=s("el-button"),_=s("mlDialog");return u(),t("div",null,[o(a,{modelValue:d(x),"onUpdate:modelValue":l[0]||(l[0]=e=>n(x)?x.value=e:x=e),label:" ",class:"check-box",onChange:L},null,8,["modelValue"]),m("共享给全部用户或 "),v("span",{class:"ml-a-span",onClick:U},[m(" 指定用户 "),d(y).length>0?(u(),t("span",f,"("+i(d(y).length)+")",1)):p("",!0)]),o(_,{title:"指定用户",width:"550",modelValue:d(k),"onUpdate:modelValue":l[2]||(l[2]=e=>n(k)?k.value=e:k=e)},{default:c((()=>[v("div",b,[o(r,{modelValue:d(S),"onUpdate:modelValue":l[1]||(l[1]=e=>n(S)?S.value=e:S=e),multiple:"",clearable:""},null,8,["modelValue"]),g,v("div",h,[o(V,{type:"primary",style:{width:"80px"},onClick:w},{default:c((()=>[m("确定")])),_:1})])])])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-edc1eb40"]]);export{x as m};
