import e from"./fieldUpdate-a79a141d.js";import l from"./fieldAggregation-2ae494e5.js";import o from"./groupAggregation-76ef36dd.js";import a from"./autoCreation-8e398110.js";import t from"./dataValidation-cdeeeefd.js";import i from"./sendNotifications-1f73cded.js";import u from"./autoAllocation-ad2adbe5.js";import r from"./autoApproval-d939a6d5.js";import m from"./autoRevokeApproval-924e72e6.js";import n from"./autoDelete-77b73dbe.js";import s from"./hookUrl-74bdf60d.js";import p from"./autoShare-b6f3a3c4.js";import{_ as d}from"./index-ea085229.js";import{a as v}from"./element-plus-bab58d46.js";import{R as j,u as f,r as c,p as V,l as y,o as g,a as b,c as h,w as k,g as x,t as T,E as U,i as _,G as w,f as z,z as C,bh as A,bf as q}from"./@vue-1ad4818c.js";import"./index-b30b6746.js";import"./pinia-3f60a8e1.js";import"./vue-router-414ebc36.js";import"./vue3-manner-report-313033e6.js";import"./axios-85bcd05e.js";import"./crypto-js-43a3a23e.js";import"./@babel-6bd44fd1.js";import"./cron-parser-1391a961.js";import"./luxon-b01799b6.js";import"./nprogress-c04e6182.js";import"./sortablejs-2f5483e3.js";import"./qrcodejs2-fix-bab07f30.js";import"./@element-plus-2a6d398c.js";import"./moment-bafe441d.js";import"./pinyin-pro-c81f5d39.js";import"./vue-i18n-0843b5c5.js";import"./@intlify-2528d766.js";import"./source-map-b06bd4b9.js";import"./vue-c723f8b1.js";import"./@vueuse-477b4dbb.js";import"./pinia-plugin-persistedstate-d2bd58cf.js";import"./resize-observer-polyfill-ad543aa3.js";import"./vue-smart-widget-8b3f5b0a.js";import"./echarts-b5d24e9a.js";import"./zrender-a15b073b.js";import"./tslib-a4e99503.js";import"./echarts-liquidfill-f5c863f1.js";import"./@antv-43d380be.js";import"./ant-design-vue-2db0c9af.js";import"./lodash-es-b8e8104a.js";import"./@ant-design-60f2ef8e.js";import"./@ctrl-4982d949.js";import"./dayjs-7fb79ad3.js";import"./vue-types-6bcea8eb.js";import"./dom-align-78cb5391.js";import"./vue-draggable-next-a413f884.js";import"./vue-resize-observer-90aea344.js";import"./@popperjs-b78c3215.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-3148dbc9.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-0ef99041.js";const S={class:"perform-operations"},R={class:"blod"},E=(e=>(A("data-v-212ff348"),e=e(),q(),e))((()=>x("div",{class:"w-100 info-text",style:{"line-height":"24px"}},"优先级高 (数字大) 的会被先执行",-1))),F=d({__name:"PerformOperations",props:{modelValue:null},emits:["update:modelValue","onSave"],setup(d,{emit:A}){const q=d,F=j("$TOOL");f((()=>q.modelValue),(()=>{I.value=q.modelValue}),{deep:!0});let I=c({});V((()=>{I.value=q.modelValue}));const L=()=>{A("update:modelValue",I.value)};let N=c();const O=()=>{let{actionType:e,actionContent:l}=I.value;if(15==e.value){let{requiredFields:e}=N.value,o=l.items.map((e=>e.targetField)),a=e.map((e=>e.fieldName));for(let l=0;l<a.length;l++){const t=a[l];if(!o.includes(t))return void v.warning(e[l].fieldLabel+"为必填字段，请添加！")}A("onSave")}else A("onSave")},D=e=>{"execute"==e&&A("onSave","execute")};return(d,v)=>{const j=y("el-form-item"),f=y("el-input-number"),c=y("el-button"),V=y("ElIconMoreFilled"),A=y("el-icon"),q=y("el-dropdown-item"),G=y("el-dropdown-menu"),M=y("el-dropdown"),B=y("el-form");return g(),b("div",S,[h(B,{"label-width":"124px",disabled:!U(F).checkRole("r48-3")},{default:k((()=>[h(j,{label:"执行操作"},{default:k((()=>{var e;return[x("span",R,T(null==(e=U(I).actionType)?void 0:e.label),1)]})),_:1}),h(j,{label:"操作内容"},{default:k((()=>{var d,j,f,c,V,y,b,h,k,x,T,C,A;return[1==(null==(d=U(I).actionType)?void 0:d.value)?(g(),_(e,{key:0,modelValue:U(I),"onUpdate:modelValue":v[0]||(v[0]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),2==(null==(j=U(I).actionType)?void 0:j.value)?(g(),_(l,{key:1,modelValue:U(I),"onUpdate:modelValue":v[1]||(v[1]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),3==(null==(f=U(I).actionType)?void 0:f.value)?(g(),_(o,{key:2,modelValue:U(I),"onUpdate:modelValue":v[2]||(v[2]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),4==(null==(c=U(I).actionType)?void 0:c.value)?(g(),_(t,{key:3,modelValue:U(I),"onUpdate:modelValue":v[3]||(v[3]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),5==(null==(V=U(I).actionType)?void 0:V.value)?(g(),_(i,{key:4,modelValue:U(I),"onUpdate:modelValue":v[4]||(v[4]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),6==(null==(y=U(I).actionType)?void 0:y.value)?(g(),_(r,{key:5,modelValue:U(I),"onUpdate:modelValue":v[5]||(v[5]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),7==(null==(b=U(I).actionType)?void 0:b.value)?(g(),_(m,{key:6,modelValue:U(I),"onUpdate:modelValue":v[6]||(v[6]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),8==(null==(h=U(I).actionType)?void 0:h.value)?(g(),_(u,{key:7,modelValue:U(I),"onUpdate:modelValue":v[7]||(v[7]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),9==(null==(k=U(I).actionType)?void 0:k.value)?(g(),_(p,{key:8,modelValue:U(I),"onUpdate:modelValue":v[8]||(v[8]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),10==(null==(x=U(I).actionType)?void 0:x.value)?(g(),_(p,{key:9,modelValue:U(I),"onUpdate:modelValue":v[9]||(v[9]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),12==(null==(T=U(I).actionType)?void 0:T.value)?(g(),_(n,{key:10,modelValue:U(I),"onUpdate:modelValue":v[10]||(v[10]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),14==(null==(C=U(I).actionType)?void 0:C.value)?(g(),_(s,{key:11,modelValue:U(I),"onUpdate:modelValue":v[11]||(v[11]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0),15==(null==(A=U(I).actionType)?void 0:A.value)?(g(),_(a,{key:12,ref_key:"autoCreationRefs",ref:N,modelValue:U(I),"onUpdate:modelValue":v[12]||(v[12]=e=>w(I)?I.value=e:I=e)},null,8,["modelValue"])):z("",!0)]})),_:1}),h(j,{label:"执行优先级"},{default:k((()=>[h(f,{modelValue:U(I).priority,"onUpdate:modelValue":v[13]||(v[13]=e=>U(I).priority=e),onChange:L,min:-99999,max:99999},null,8,["modelValue"]),E])),_:1}),h(j,{label:" ",class:"mt-30"},{default:k((()=>{var e,l;return[h(c,{type:"primary",onClick:O,style:{width:"100px",height:"36px"}},{default:k((()=>[C("保存")])),_:1}),1==(null==(e=U(I).actionType)?void 0:e.value)||2==(null==(l=U(I).actionType)?void 0:l.value)?(g(),_(M,{key:0,trigger:"click",onCommand:D},{dropdown:k((()=>[h(G,null,{default:k((()=>[h(q,{command:"execute"},{default:k((()=>[C("立即执行")])),_:1})])),_:1})])),default:k((()=>[h(c,{style:{width:"40px",height:"36px"}},{default:k((()=>[h(A,null,{default:k((()=>[h(V)])),_:1})])),_:1})])),_:1})):z("",!0)]})),_:1})])),_:1},8,["disabled"])])}}},[["__scopeId","data-v-212ff348"]]);export{F as default};
